<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Podman | 开发手册</title>
    <meta name="description" content="开发手册">
    <link rel="stylesheet" href="/developer-guide/assets/style.4aad1ebe.css">
    <link rel="modulepreload" href="/developer-guide/assets/chunks/virtual_search-data.a799bdae.js">
    <link rel="modulepreload" href="/developer-guide/assets/chunks/ui-custom.ac6ae457.js">
    <link rel="modulepreload" href="/developer-guide/assets/app.8e553aa3.js">
    <link rel="modulepreload" href="/developer-guide/assets/backend_container_podman.md.e2dc62e5.lean.js">
    
    <link rel="icon" href="https://ulooklikeamovie.oss-cn-beijing.aliyuncs.com/img/favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-eceba3b7><!--[--><!--]--><!--[--><span tabindex="-1" data-v-935a3406></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-935a3406> Skip to content </a><!--]--><!----><header class="VPNav" data-v-eceba3b7 data-v-9f43a388><div class="VPNavBar has-sidebar" data-v-9f43a388 data-v-a987ef06><div class="container" data-v-a987ef06><div class="VPNavBarTitle has-sidebar" data-v-a987ef06 data-v-2e6a7daa><a class="title" href="/developer-guide/" data-v-2e6a7daa><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://ulooklikeamovie.oss-cn-beijing.aliyuncs.com/img/RED-AssassinS.png" alt data-v-5083a5f3><!--]--><!--[-->ASSASSINS CREED<!--]--><!--[--><!--]--></a></div><div class="content" data-v-a987ef06><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a987ef06><!--teleport start--><!--teleport end--><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a987ef06 data-v-7c9ab080><span id="main-nav-aria-label" class="visually-hidden" data-v-7c9ab080>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7c9ab080 data-v-a722ab59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a722ab59><span class="text" data-v-a722ab59><!----> Frontend <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a722ab59><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a722ab59><div class="VPMenu" data-v-a722ab59 data-v-326b9938><div class="items" data-v-326b9938><!--[--><!--[--><div class="VPMenuLink" data-v-326b9938 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/frontend/web/site.html" data-v-0d1111eb data-v-140a57ef><!--[-->Web<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-326b9938 data-v-21bf0198><p class="title" data-v-21bf0198>Feast</p><!--[--><!--[--><div class="VPMenuLink" data-v-21bf0198 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/frontend/feast/typescript.html" data-v-0d1111eb data-v-140a57ef><!--[-->typescript <!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-21bf0198 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/frontend/feast/package-manage.html" data-v-0d1111eb data-v-140a57ef><!--[-->package manage<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-326b9938 data-v-21bf0198><p class="title" data-v-21bf0198>Framework</p><!--[--><!--[--><div class="VPMenuLink" data-v-21bf0198 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/frontend/vue/vuejs.html" data-v-0d1111eb data-v-140a57ef><!--[-->Vue<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-21bf0198 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/frontend/react/reactjs.html" data-v-0d1111eb data-v-140a57ef><!--[-->React<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-21bf0198 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/frontend/solid/solidjs.html" data-v-0d1111eb data-v-140a57ef><!--[-->SoildJS<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7c9ab080 data-v-a722ab59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a722ab59><span class="text" data-v-a722ab59><!----> Backend <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a722ab59><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a722ab59><div class="VPMenu" data-v-a722ab59 data-v-326b9938><div class="items" data-v-326b9938><!--[--><!--[--><div class="VPMenuGroup" data-v-326b9938 data-v-21bf0198><p class="title" data-v-21bf0198>Java</p><!--[--><!--[--><div class="VPMenuLink" data-v-21bf0198 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/backend/java/OOP.html" data-v-0d1111eb data-v-140a57ef><!--[-->OOP<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuLink" data-v-326b9938 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/backend/container/Linux.html" data-v-0d1111eb data-v-140a57ef><!--[-->Linux<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-326b9938 data-v-0d1111eb><a class="VPLink link active" href="/developer-guide/backend/container/podman.html" data-v-0d1111eb data-v-140a57ef><!--[-->Containers<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7c9ab080 data-v-a722ab59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a722ab59><span class="text" data-v-a722ab59><!----> Database <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a722ab59><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a722ab59><div class="VPMenu" data-v-a722ab59 data-v-326b9938><div class="items" data-v-326b9938><!--[--><!--[--><div class="VPMenuLink" data-v-326b9938 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/database/mysql.html" data-v-0d1111eb data-v-140a57ef><!--[-->MySQL<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7c9ab080 data-v-a722ab59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a722ab59><span class="text" data-v-a722ab59><!----> Network <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a722ab59><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a722ab59><div class="VPMenu" data-v-a722ab59 data-v-326b9938><div class="items" data-v-326b9938><!--[--><!--[--><div class="VPMenuLink" data-v-326b9938 data-v-0d1111eb><a class="VPLink link" href="/developer-guide/network/nginx.html" data-v-0d1111eb data-v-140a57ef><!--[-->Nginx<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a987ef06 data-v-f5ec5e06><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-f5ec5e06 data-v-9553e824 data-v-7c1d124a><span class="check" data-v-7c1d124a><span class="icon" data-v-7c1d124a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-9553e824><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-9553e824><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a987ef06 data-v-fe7146ae data-v-d4e9e7af><!--[--><a class="VPSocialLink" href="https://github.com/beierzhijin/developer-guide" target="_blank" rel="noopener" data-v-d4e9e7af data-v-6b0cfb5f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://viphimself.vip/" target="_blank" rel="noopener" data-v-d4e9e7af data-v-6b0cfb5f><svg t="1661271776783" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7499" width="200" height="200"><path d="M64 192.384C64 121.472 121.408 64 192.384 64h639.232C902.528 64 960 121.408 960 192.384v639.232A128.32 128.32 0 0 1 831.616 960H192.384A128.32 128.32 0 0 1 64 831.616V192.384zM256 256l28.416 28.416 28.48 28.48 28.416 28.416v312.96L256 739.52V768h455.104L768 568.896l-28.416 28.416-28.48 28.48-28.416 28.416H455.04V341.312l28.48-28.416L512 284.416 540.416 256H256z" fill="#5bd2fe" p-id="7500"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a987ef06 data-v-1443f3e4 data-v-a722ab59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-a722ab59><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-a722ab59><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-a722ab59><div class="VPMenu" data-v-a722ab59 data-v-326b9938><!----><!--[--><!--[--><!----><div class="group" data-v-1443f3e4><div class="item appearance" data-v-1443f3e4><p class="label" data-v-1443f3e4>Appearance</p><div class="appearance-action" data-v-1443f3e4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-1443f3e4 data-v-9553e824 data-v-7c1d124a><span class="check" data-v-7c1d124a><span class="icon" data-v-7c1d124a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-9553e824><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-9553e824><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-1443f3e4><div class="item social-links" data-v-1443f3e4><div class="VPSocialLinks social-links-list" data-v-1443f3e4 data-v-d4e9e7af><!--[--><a class="VPSocialLink" href="https://github.com/beierzhijin/developer-guide" target="_blank" rel="noopener" data-v-d4e9e7af data-v-6b0cfb5f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://viphimself.vip/" target="_blank" rel="noopener" data-v-d4e9e7af data-v-6b0cfb5f><svg t="1661271776783" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7499" width="200" height="200"><path d="M64 192.384C64 121.472 121.408 64 192.384 64h639.232C902.528 64 960 121.408 960 192.384v639.232A128.32 128.32 0 0 1 831.616 960H192.384A128.32 128.32 0 0 1 64 831.616V192.384zM256 256l28.416 28.416 28.48 28.48 28.416 28.416v312.96L256 739.52V768h455.104L768 568.896l-28.416 28.416-28.48 28.48-28.416 28.416H455.04V341.312l28.48-28.416L512 284.416 540.416 256H256z" fill="#5bd2fe" p-id="7500"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a987ef06 data-v-1b2b9e0a><span class="container" data-v-1b2b9e0a><span class="top" data-v-1b2b9e0a></span><span class="middle" data-v-1b2b9e0a></span><span class="bottom" data-v-1b2b9e0a></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-eceba3b7 data-v-03324c37><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-03324c37><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-03324c37><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-03324c37>Menu</span></button><a class="top-link" href="#" data-v-03324c37> Return to top </a></div><aside class="VPSidebar" data-v-eceba3b7 data-v-a211c223><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a211c223><span class="visually-hidden" id="sidebar-aria-label" data-v-a211c223> Sidebar Navigation </span><!--[--><div class="group" data-v-a211c223><section class="VPSidebarGroup collapsible" data-v-a211c223 data-v-d61d752e><div class="title" role="button" data-v-d61d752e><h2 class="title-text" data-v-d61d752e>Java</h2><div class="action" data-v-d61d752e><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-d61d752e><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-d61d752e><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-d61d752e><!--[--><!--[--><a class="VPLink link link" href="/developer-guide/backend/java/OOP.html" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>OOP</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/developer-guide/backend/java/biyi.html" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>biyi</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/developer-guide/backend/java/springboot.html" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>SpringBoot</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/developer-guide/backend/java/IDEA.html" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>IDEA</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a211c223><section class="VPSidebarGroup collapsible" data-v-a211c223 data-v-d61d752e><div class="title" role="button" data-v-d61d752e><h2 class="title-text" data-v-d61d752e>Linux</h2><div class="action" data-v-d61d752e><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-d61d752e><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-d61d752e><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-d61d752e><!--[--><!--[--><a class="VPLink link link" href="/developer-guide/backend/container/Linux.html" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>基础</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/developer-guide/backend/container/vim.html" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>vim</span><!--]--><!----></a><!----><!--]--><!--[--><span class="VPLink link" style="padding-left:0px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text" data-v-3614dc97>Containers</span><!--]--><!----></span><!--[--><!--[--><a class="VPLink link link active" href="/developer-guide/backend/container/podman.html" style="padding-left:16px;" data-v-3614dc97 data-v-140a57ef><!--[--><span class="link-text light" data-v-3614dc97>Podman</span><!--]--><!----></a><!----><!--]--><!--]--><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-eceba3b7 data-v-62be4a53><div class="VPDoc has-sidebar has-aside" data-v-62be4a53 data-v-8c687868><div class="container" data-v-8c687868><div class="aside" data-v-8c687868><div class="aside-curtain" data-v-8c687868></div><div class="aside-container" data-v-8c687868><div class="aside-content" data-v-8c687868><div class="VPDocAside" data-v-8c687868 data-v-800c2a87><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-800c2a87 data-v-b4497a3c><div class="content" data-v-b4497a3c><div class="outline-marker" data-v-b4497a3c></div><div class="outline-title" data-v-b4497a3c>THIS POST WILL COVER</div><nav aria-labelledby="doc-outline-aria-label" data-v-b4497a3c><span class="visually-hidden" id="doc-outline-aria-label" data-v-b4497a3c> Table of Contents for current page </span><ul class="root" data-v-b4497a3c data-v-1cf2958c><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-800c2a87></div><!--[--><!--]--><div class="VPDocAsideCarbonAds" data-v-800c2a87><div class="VPCarbonAds"></div></div><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-8c687868><div class="content-container" data-v-8c687868><!--[--><!--]--><main class="main" data-v-8c687868><div style="position:relative;" class="vp-doc _developer-guide_backend_container_podman" data-v-8c687868><div><h1 id="podman" tabindex="-1">Podman <a class="header-anchor" href="#podman" aria-hidden="true">#</a></h1><p><a href="https://podman.io/" target="_blank" rel="noreferrer">https://podman.io/</a></p><blockquote><p>Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.</p></blockquote><h2 id="podman-for-debian（wsl2）" tabindex="-1">Podman for Debian（WSL2） <a class="header-anchor" href="#podman-for-debian（wsl2）" aria-hidden="true">#</a></h2><p>Ubuntu基于Debian，都可使用<code>apt-get</code></p><p><a href="https://podman.io/getting-started/installation#:~:text=the%20available%20streams.-,Ubuntu,-The%20podman%20package" target="_blank" rel="noreferrer">Podman for Ubuntu</a></p><h3 id="podman-1" tabindex="-1">podman <a class="header-anchor" href="#podman-1" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># Ubuntu 20.10 and newer</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get -y update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get -y install podman</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt -y update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt -y install podman</span></span>
<span class="line"></span></code></pre></div><h3 id="mysql" tabindex="-1">mysql <a class="header-anchor" href="#mysql" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman run --name mysql -p 3306:3306 -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root -d mysql:latest</span></span>
<span class="line"></span></code></pre></div><p><code>podman logs mysql</code> 查看报错：<strong style="color:red;">chown: changing ownership of &#39;/var/lib/mysql/&#39;: Operation not permitted</strong>，该报错的本质原因可参考</p><p><a href="https://github.com/docker-library/mysql/issues/396%EF%BC%8C" target="_blank" rel="noreferrer">https://github.com/docker-library/mysql/issues/396，</a></p><blockquote><p>Since there is not a supervisor or init system running in the container, things like <code>service mysql start</code> will not do what you expect. There is a bunch of setup that is done by the <a href="https://github.com/docker-library/mysql/blob/30bf2b7ff3010d1f2ee89967dd1303d6a7230c51/5.7/docker-entrypoint.sh" target="_blank" rel="noreferrer"><code>docker-entrypoint.sh</code></a> script that is not done when you start the container with the <code>bash</code> process. There is also the problem of <code>bash</code> being pid 1, so once it exits, that container exits and all child processes — like those spawned by an init script — are killed.</p><p>As for the <code>chown</code> failing that is often caused by Docker for Mac/Windows (or Boot2Docker/Docker Toolbox) folder sharing from the Docker virtual machine to the Host OS. The workaround is to just run the container as the owner of the directory you are trying to use:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">$ docker run -d -e MYSQL_ROOT_PASSWORD=admin -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/mysql/data:/var/lib/mysql --user 1000:50 mysql:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">$ </span><span style="color:#676E95;"># or whatever user and group id that the container sees on the mounted folder:</span></span>
<span class="line"><span style="color:#A6ACCD;">$ docker run -it --rm -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/mysql/data:/var/lib/mysql mysql:latest ls -aln /var/lib/mysql</span></span>
<span class="line"></span></code></pre></div></blockquote><p>我这里使用<a href="https://www.cnblogs.com/kongzhongqijing/p/3488884.html#:~:text=%E4%BA%8C%E3%80%81-,ll%E5%91%BD%E4%BB%A4%E7%BB%93%E6%9E%9C%E8%AF%B4%E6%98%8E,-drwxr%2Dxr%2Dx" target="_blank" rel="noreferrer"><code>ll</code></a> 命令查看到<code>~/mypod/mysql/data</code>文件夹由<code>root</code>用户创建，改成<code>非根用户</code>创建之后，给予权限<strong style="color:#42e4ff;">可读可写可执行（危险）</strong><code>chmod 777 ~/mypod/mysql/data</code>之后解决，这不是最佳办法，<code>chmod 777</code>是一个危险操作，可以用上面的方法</p><p>至于3306端口占用，powershell执行：<code>netstat -aon|findstr &quot;3306&quot;</code>，结束对应PID进程即可</p><h3 id="redis-redisinsight" tabindex="-1">redis &amp; redisinsight <a class="header-anchor" href="#redis-redisinsight" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman run -d --name redis-stack -p 127.0.0.1:6379:6379 -p 8001:8001 -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/redis/conf/local-redis-stack.conf:/redis-stack.conf -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/redis/data:/data -e REDIS_ARGS=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--requirepass 12345</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -e REDIS_ARGS=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--appendonly yes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> redis/redis-stack:latest</span></span>
<span class="line"></span></code></pre></div><h2 id="podman-for-windows（wsl2）" tabindex="-1">Podman for Windows（WSL2） <a class="header-anchor" href="#podman-for-windows（wsl2）" aria-hidden="true">#</a></h2><p><a href="https://github.com/containers/podman/blob/main/docs/tutorials/podman-for-windows.md" target="_blank" rel="noreferrer">podman/podman-for-windows.md at main · containers/podman · GitHub</a></p><p>简而言之，容器是针对Linux而言的，对于windows则是基于WSL2</p><ol><li><p>先下载安装 <strong style="color:#42e4ff;">podman-v.#.#.#.msi</strong>，<a href="https://github.com/containers/podman/releases" target="_blank" rel="noreferrer">Releases · containers/podman · GitHub</a></p></li><li><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman machine init</span></span>
<span class="line"><span style="color:#A6ACCD;">podman machine start</span></span>
<span class="line"></span></code></pre></div></li></ol><h3 id="mysql-1" tabindex="-1">mysql <a class="header-anchor" href="#mysql-1" aria-hidden="true">#</a></h3><p><a href="https://hub.docker.com/_/mysql" target="_blank" rel="noreferrer">mysql - Official Image | Docker Hub</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman pull mysql:latest</span></span>
<span class="line"></span></code></pre></div><p>将默认 mysql 数据目录挂载到 host system</p><ul><li><a href="https://hub.docker.com/_/mysql#:~:text=Caveats-,Where%20to%20Store%20Data,-Important%20note%3A%20There" target="_blank" rel="noreferrer">Where to Store Data</a></li><li><a href="https://github.com/containers/podman/blob/main/docs/tutorials/podman-for-windows.md#volume-mounting" target="_blank" rel="noreferrer">volume-mounting</a></li><li><code>-p HostPort:ContainerPort</code></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman run -d --name mysql -p 3306:3306 -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root mysql:latest</span></span>
<span class="line"></span></code></pre></div><h3 id="redis" tabindex="-1">redis <a class="header-anchor" href="#redis" aria-hidden="true">#</a></h3><p><a href="https://hub.docker.com/_/redis" target="_blank" rel="noreferrer">redis - Docker Image | Docker Hub</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman pull redis</span></span>
<span class="line"></span></code></pre></div><p><a href="https://cloud.tencent.com/developer/article/1670205" target="_blank" rel="noreferrer">最详细的docker中安装并配置redis - 腾讯云开发者社区-腾讯云 (tencent.com)</a></p><ul><li><p><code>redis-server /etc/redis/redis.conf</code> 这个是关键配置，让redis不是无配置启动，而是按照这个redis.conf的配置启动</p></li><li><p><code>–appendonly yes</code> redis启动后数据持久化</p></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman run -d -p 6379:6379 --name redis -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/redis/conf/redis.conf:/etc/redis/redis.conf  -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/redis/data:/data redis-server /etc/redis/redis.conf --appendonly yes redis</span></span>
<span class="line"></span></code></pre></div><h3 id="redis-redisinsight-1" tabindex="-1">redis &amp; redisinsight <a class="header-anchor" href="#redis-redisinsight-1" aria-hidden="true">#</a></h3><p><a href="https://hub.docker.com/r/redis/redis-stack" target="_blank" rel="noreferrer">redis/redis-stack - Docker Image | Docker Hub</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 阿里云镜像目前没这个镜像，指定完整镜像源</span></span>
<span class="line"><span style="color:#A6ACCD;">podman pull docker.io/redis/redis-stack</span></span>
<span class="line"><span style="color:#676E95;"># 或者pull的时候选择docker.io镜像源</span></span>
<span class="line"><span style="color:#A6ACCD;">podman pull redis/redis-stack</span></span>
<span class="line"></span></code></pre></div><ul><li><code>-d</code>：后台运行容器，并返回容器ID，否则关掉shell容器就停了；<code>--name redis-stack</code> 和 最后的<code>redis/redis-stack:latest</code>可以理解为对象和类的关系，类可以创建无数个对象</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">podman run -d --name redis-stack -p 6379:6379 -p 8001:8001 -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/redis/conf/local-redis-stack.conf:/redis-stack.conf -v </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/mypod/redis/data:/data -e REDIS_ARGS=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--requirepass 12345</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -e REDIS_ARGS=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--appendonly yes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> redis/redis-stack:latest</span></span>
<span class="line"></span></code></pre></div><p>💔 <strong style="color:red;">Unable to connect to Redis server: localhost/127.0.0.1:6379</strong></p><p>❤️ it works , 似乎是ip的问题，但是 podman mysql 就可以正常连接。解决办法目前是在WSL2下查到WSL2本身对应的ip，<code>curl ip:6379</code> 可正常连接，但这不应该是一个科学的办法，因为ip会变</p><blockquote><p><a href="https://github.com/microsoft/WSL/issues/5728#issuecomment-674883029" target="_blank" rel="noreferrer">https://github.com/microsoft/WSL/issues/5728#issuecomment-674883029</a></p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ifconfig</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ip addr show eth0 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">inet\b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> awk </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{print $2}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> cut -d/ -f1</span></span>
<span class="line"></span></code></pre></div><p>💔 下面的并没有作用</p><p><a href="https://stackoverflow.com/questions/70591730/redis-with-wsl2-podman-connection-refused" target="_blank" rel="noreferrer">redis-with-wsl2-podman-connection-refused</a></p><p>顺便看看这个： <a href="https://docs.microsoft.com/en-us/windows/wsl/networking" target="_blank" rel="noreferrer">Accessing network applications with WSL | Microsoft Docs</a></p><blockquote><p><a href="https://github.com/microsoft/WSL/issues/4851" target="_blank" rel="noreferrer">You probably run into this WSL2 issue</a>：</p><p>Solution:</p><ul><li>option 1: use <code>[::1]:6379</code> instead of <code>localhost:6379</code> from Windows side</li><li>option 2: use <code>-p 127.0.0.1:6379:6379</code> instead of <code>-p 6379:6379</code> with <code>podman run</code>.</li></ul></blockquote><h2 id="切换至国内镜像" tabindex="-1">切换至国内镜像 <a class="header-anchor" href="#切换至国内镜像" aria-hidden="true">#</a></h2><p>🎉 <a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" target="_blank" rel="noreferrer">阿里云镜像</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 编辑需要root权限</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo vi /etc/containers/registries.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 只需要在unqualified-search-registries添加阿里镜像就可以，正常情况pull的时候会让你选择镜像源，ustc中国科学技术大学</span></span>
<span class="line"><span style="color:#A6ACCD;">unqualified-search-registries = </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docker.io</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docker.mirrors.ustc.edu.cn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxxxxx.mirror.aliyuncs.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 🚫不需要这么复杂；location为上面阿里云镜像地址，不需要https://</span></span>
<span class="line"><span style="color:#A6ACCD;">unqualified-search-registries = </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docker.io</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">[[</span><span style="color:#A6ACCD;">registry</span><span style="color:#89DDFF;">]]</span></span>
<span class="line"><span style="color:#A6ACCD;">prefix = </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docker.io</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">location = </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxxxxx.mirror.aliyuncs.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="ssh" tabindex="-1">ssh <a class="header-anchor" href="#ssh" aria-hidden="true">#</a></h2><ol><li>添加至Hosts <code>127.0.0.1:4472 localhost</code></li><li>powershell <code>podman machine ssh sudo ...</code></li></ol><h2 id="rootfull-rootless" tabindex="-1">Rootfull &amp; Rootless <a class="header-anchor" href="#rootfull-rootless" aria-hidden="true">#</a></h2><p>🎉 注意，切换用户之后记得重启 <code>podman machine start</code></p><blockquote><p>Note: Rootfull and Rootless containers are distinct and isolated from one another. Podman commands against one (e.g., podman ps) will not represent results/state for the other.</p></blockquote><h3 id="root" tabindex="-1">root <a class="header-anchor" href="#root" aria-hidden="true">#</a></h3><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 设置根用户</span></span>
<span class="line"><span style="color:#A6ACCD;">podman machine stop</span></span>
<span class="line"><span style="color:#A6ACCD;">podman machine set </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">rootful</span></span>
<span class="line"></span></code></pre></div><h3 id="rootless" tabindex="-1">rootless <a class="header-anchor" href="#rootless" aria-hidden="true">#</a></h3><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># To restore rootless execution, set rootful to false:</span></span>
<span class="line"><span style="color:#A6ACCD;">Podman machine stop</span></span>
<span class="line"><span style="color:#A6ACCD;">Podman machine set </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">rootful</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">false</span></span>
<span class="line"></span></code></pre></div><h2 id="cockpit" tabindex="-1">cockpit <a class="header-anchor" href="#cockpit" aria-hidden="true">#</a></h2><p>基于 <strong>web</strong> 的 <strong>Linux</strong> 服务器管理工具</p><p><a href="https://cockpit-project.org/running.html#ubuntu" target="_blank" rel="noreferrer">Running Cockpit — Cockpit Project (cockpit-project.org)</a></p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h3><p><a href="https://help.ubuntu.com/community/UbuntuBackports#Enabling_Backports" target="_blank" rel="noreferrer">UbuntuBackports - Community Help Wiki</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">apt-get install PACKAGE/RELEASE-backports</span></span>
<span class="line"><span style="color:#A6ACCD;">apt-get install -t RELEASE-backports PACKAGE</span></span>
<span class="line"></span></code></pre></div><blockquote><p>If you are unsure of your release name, you can check it with:</p><p><code>lsb_release -cs</code></p></blockquote><p>或者执行<code>echo ${VERSION_CODENAME}</code>，或<code>cat /etc/os-release</code> 查看</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt upgrade</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt install -t jammy-backports cockpit</span></span>
<span class="line"></span></code></pre></div><h3 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-hidden="true">#</a></h3><blockquote><p>If you already have Cockpit on your server, point your web browser to: <strong>https://<em><strong>ip-address-of-machine</strong></em>:9090</strong></p></blockquote><blockquote><p>If your browser is on the same machine where Cockpit is running, then visit localhost:9090</p></blockquote><p><a href="https://www.how2shout.com/linux/how-to-install-cockpit-on-ubuntu-22-04-20-04-lts/#4_Start_and_Enable_Cockpit_service" target="_blank" rel="noreferrer">How to Install Cockpit on Ubuntu 22.04 | 20.04 LTS - Linux Shout</a></p><blockquote><p>With successful installation, this web-based server management will be on your system. However, we have to start its service manually to access it. Also, at the same time enable it to start automatically in case of crash or system reboot.</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl start cockpit cockpit.socket</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> --now cockpit.socket</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl stop cockpit cockpit.socket</span></span>
<span class="line"></span></code></pre></div><p><s>会报错：<strong style="color:red;">System has not been booted with systemd as init system (PID 1). Can&#39;t operate. Failed to connect to bus: Host is down</strong> ，因为WSL2在截至2022年8月31日时不支持 Systemd</s></p><p><code>wsl.exe --version</code> 查看 WSL 版本：<code>0.67.6.0</code>以上版本的 WSL2 现已支持 Systemd</p><h2 id="wsl2现已支持systemd-2022-9-27" tabindex="-1">WSL2现已支持Systemd-2022.9.27 <a class="header-anchor" href="#wsl2现已支持systemd-2022-9-27" aria-hidden="true">#</a></h2><blockquote><p><a href="https://www.v2ex.com/t/882117" target="_blank" rel="noreferrer">WSL2 现已支持 Systemd - V2EX</a></p><p><a href="https://devblogs.microsoft.com/commandline/systemd-support-is-now-available-in-wsl/" target="_blank" rel="noreferrer">Systemd support is now available in WSL!</a></p></blockquote><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 设置 systemd 开机自启（在 Linux 内执行以下命令）</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo vim /etc/wsl.conf</span></span>
<span class="line"><span style="color:#676E95;"># 设置以下内容</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">boot</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">systemd=true</span></span>
<span class="line"><span style="color:#676E95;"># 退出 Linux 子系统，并关闭 WSL</span></span>
<span class="line"><span style="color:#A6ACCD;">wsl.exe --shutdown</span></span>
<span class="line"><span style="color:#676E95;"># 重新进入 WSL ，输入⬇️⬇️⬇️，即可检验 systemd 的运行状态</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl list-unit-files --type=service</span></span>
<span class="line"></span></code></pre></div><h2 id="解决wsl2不支持systemd🚫" tabindex="-1"><s>解决WSL2不支持Systemd🚫</s> <a class="header-anchor" href="#解决wsl2不支持systemd🚫" aria-hidden="true">#</a></h2><p><a href="https://askubuntu.com/questions/1379425/system-has-not-been-booted-with-systemd-as-init-system-pid-1-cant-operate#:~:text=How%20to%20handle%20the%20lack%20of%20Systemd" target="_blank" rel="noreferrer">How to handle the lack of Systemd</a> ，有数种方式可以解决这个问题，以下为我试过的一种</p><p><a href="https://github.com/nullpo-head/wsl-distrod#option-2-make-your-current-distro-run-systemd" target="_blank" rel="noreferrer">Make your Current WSL2 Distro Run Systemd</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 妈的，翻墙也连不上，直接浏览器打开https://raw.githubusercontent.com...</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -L -O </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://raw.githubusercontent.com/nullpo-head/wsl-distrod/main/install.sh</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># 我放到了 /home/my-config/install.sh</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /home/myconfig</span></span>
<span class="line"><span style="color:#676E95;"># 给予执行权限</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod +x install.sh</span></span>
<span class="line"><span style="color:#676E95;"># This script installs distrod, but doesn&#39;t enable it yet.</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo ./install.sh install</span></span>
<span class="line"></span></code></pre></div><h3 id="enable-distrod-in-your-distro" tabindex="-1">Enable distrod in your distro <a class="header-anchor" href="#enable-distrod-in-your-distro" aria-hidden="true">#</a></h3><blockquote><p>You have two options. If you want to automatically start your distro on Windows startup, enable distrod by the following command</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;"> /opt/distrod/bin/distrod </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> --start-on-windows-boot</span></span>
<span class="line"></span></code></pre></div><blockquote><p>Otherwise,</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;"> /opt/distrod/bin/distrod </span><span style="color:#82AAFF;">enable</span></span>
<span class="line"></span></code></pre></div><blockquote><p>You can run <code>enable</code> with <code>--start-on-windows-boot</code> again if you want to enable autostart later.</p></blockquote><h3 id="disable-systemd-distrod" tabindex="-1">Disable Systemd Distrod <a class="header-anchor" href="#disable-systemd-distrod" aria-hidden="true">#</a></h3><p><a href="https://github.com/nullpo-head/wsl-distrod/blob/main/docs/references.md#disable-systemd--distrod" target="_blank" rel="noreferrer">disable-systemd--distrod</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo /opt/distrod/bin/distrod disable</span></span>
<span class="line"></span></code></pre></div><h3 id="uninstall-distrod" tabindex="-1">Uninstall distrod <a class="header-anchor" href="#uninstall-distrod" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 在myconfig目录下卸载，看目录 /opt/distrod/</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod +x install.sh</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo ./install.sh uninstall</span></span>
<span class="line"></span></code></pre></div><h3 id="restart-your-distro" tabindex="-1">Restart your distro <a class="header-anchor" href="#restart-your-distro" aria-hidden="true">#</a></h3><blockquote><p>Close your WSL&#39;s terminal. Open a new Command Prompt window, and run the following command.</p></blockquote><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 报错：🚫不存在具有所提供名称的分发</span></span>
<span class="line"><span style="color:#A6ACCD;">wsl </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">terminate Distrod</span></span>
<span class="line"></span></code></pre></div><blockquote><p>After re-opening a new WSL window, your shell runs in a systemd session.</p></blockquote><p>测试当前systemctl是否在WSL2下可用，可以在wsl bash下<code>pstree</code>或直接<code>systemctl</code></p><h3 id="新开wsl-bash执行" tabindex="-1">新开wsl bash执行 <a class="header-anchor" href="#新开wsl-bash执行" aria-hidden="true">#</a></h3><p>常用的 Bash 就是 Shell 的一种，也是 Linux 下的默认 Shell 程序， <strong>Zsh</strong> 一个更强大，更人性化的 Shell</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 执行 /opt/distrod/bin/distrod enable 不加参数 --start-on-windows-boot 时，每次开机需要再次执行</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start cockpit cockpit.socket</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> --now cockpit.socket</span></span>
<span class="line"></span></code></pre></div><p>localhost:9090 账-密(WSL2的用户账密)：root/klaus - root</p><p><a href="https://www.how2shout.com/linux/how-to-install-cockpit-on-ubuntu-22-04-20-04-lts/#4_Start_and_Enable_Cockpit_service:~:text=9.-,Login%20Cockpit%20web%20management%20interface,-We%20can%20use" target="_blank" rel="noreferrer">Login Cockpit web management interface</a></p><blockquote><p>We can use any user available on your system, however, it must be at least a non-root user with sudo access; so that you can manage various services directly using the Cockpit Interface. Alternatively, you go for the <strong>root</strong> user as well.</p></blockquote><p><img src="https://ulooklikeamovie.oss-cn-beijing.aliyuncs.com/img/image-20220901001341506.png" alt="image-20220901001341506"></p><h2 id="cockpit-extendable" tabindex="-1">cockpit Extendable <a class="header-anchor" href="#cockpit-extendable" aria-hidden="true">#</a></h2><p>Cockpit also supports <a href="https://cockpit-project.org/applications.html" target="_blank" rel="noreferrer">a large list of optional and third-party applications</a>.</p><h3 id="podman-container-support" tabindex="-1">Podman container support <a class="header-anchor" href="#podman-container-support" aria-hidden="true">#</a></h3><p><a href="https://cockpit-project.org/applications.html#:~:text=cockpit%2Dmachines/issues-,Podman%20Containers,-official" target="_blank" rel="noreferrer">Podman Containers</a></p><p><a href="https://www.how2shout.com/linux/how-to-install-cockpit-on-ubuntu-22-04-20-04-lts/#:~:text=6.-,Enable%20Docker/Podman%20container%20support,-If%20you%20already" target="_blank" rel="noreferrer">Enable Podman container support</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install cockpit-podman -y</span></span>
<span class="line"></span></code></pre></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-8c687868 data-v-6d472bd9><div class="edit-info" data-v-6d472bd9><div class="edit-link" data-v-6d472bd9><a class="VPLink link edit-link-button" href="https://github.com/beierzhijin/full-stack-docs/edit/main/docs/backend/container/podman.md" target="_blank" rel="noreferrer" data-v-6d472bd9 data-v-140a57ef><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-6d472bd9><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 在 GitHub 中 编辑此页<!--]--><!----></a></div><div class="last-updated" data-v-6d472bd9><p class="VPLastUpdated" data-v-6d472bd9 data-v-6fd5961f>最近更新时间: <time datatime="2022-10-31T14:29:03.000Z" data-v-6fd5961f></time></p></div></div><div class="prev-next" data-v-6d472bd9><div class="pager" data-v-6d472bd9><a class="pager-link prev" href="/developer-guide/backend/container/vim.html" data-v-6d472bd9><span class="desc" data-v-6d472bd9>上一篇</span><span class="title" data-v-6d472bd9>vim</span></a></div><div class="has-prev pager" data-v-6d472bd9><!----></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-eceba3b7 data-v-2f85aaf0><div class="container" data-v-2f85aaf0><p class="message" data-v-2f85aaf0>Released under the MIT License.</p><p class="copyright" data-v-2f85aaf0>Copyright © 2022-present Klaus Lau</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"backend_container_linux.md\":\"0d4a4693\",\"backend_container_podman.md\":\"e2dc62e5\",\"backend_container_vim.md\":\"f58542d6\",\"backend_java_idea.md\":\"893f0133\",\"backend_java_oop.md\":\"1aefa9a7\",\"backend_java_biyi.md\":\"c8cef0d8\",\"backend_java_springboot.md\":\"353a3d16\",\"database_mysql.md\":\"48362f9e\",\"frontend_feast_package-manage.md\":\"296f11a5\",\"frontend_feast_typescript.md\":\"a5863ed0\",\"frontend_react_reactjs.md\":\"373dc169\",\"frontend_service_error.md\":\"c88e19b3\",\"frontend_service_useful.md\":\"7fb858ea\",\"frontend_solid_solidjs.md\":\"dfd875c9\",\"frontend_vue_vuejs.md\":\"14651327\",\"frontend_web_creativity.md\":\"cbecf892\",\"frontend_web_css.md\":\"640d4d80\",\"frontend_web_site.md\":\"9c40a5fa\",\"guide_about-me.md\":\"1760caf7\",\"guide_connect-me.md\":\"1258edfd\",\"index.md\":\"0b6a78a9\",\"network_nginx.md\":\"f2af5229\"}")</script>
    <script type="module" async src="/developer-guide/assets/app.8e553aa3.js"></script>
    
  </body>
</html>